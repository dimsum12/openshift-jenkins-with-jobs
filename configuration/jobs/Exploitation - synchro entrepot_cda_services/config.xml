<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <logRotator>
    <daysToKeep>-1</daysToKeep>
    <numToKeep>100</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.queueSorter.PrioritySorterJobProperty>
      <priority>100</priority>
    </hudson.queueSorter.PrioritySorterJobProperty>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.StringParameterDefinition>
          <name>RESOURCES_FILE</name>
          <description>Le fichier contenant la liste des ressources dont on veut v√©rifier la synchro.
Une ressource par ligne avec le format :
&lt;resource_name&gt;,&lt;service&gt;
Exemple :
SCAN100_PYR-JPEG_WLD_WM_GUF_2007,WMSRASTER_EXT_GEOPORTAIL</description>
          <defaultValue>resources_list_GPP-EXPLOITATION-1171.txt</defaultValue>
        </hudson.model.StringParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
    <hudson.plugins.throttleconcurrents.ThrottleJobProperty>
      <maxConcurrentPerNode>1</maxConcurrentPerNode>
      <maxConcurrentTotal>1</maxConcurrentTotal>
      <categories/>
      <throttleEnabled>true</throttleEnabled>
      <throttleOption>project</throttleOption>
      <configVersion>1</configVersion>
    </hudson.plugins.throttleconcurrents.ThrottleJobProperty>
    <hudson.plugins.disk__usage.DiskUsageProperty>
      <diskUsageWithoutBuilds>18606</diskUsageWithoutBuilds>
      <slaveWorkspacesUsage class="java.util.concurrent.ConcurrentHashMap">
        <entry>
          <string>slave_p08a</string>
          <java.util.concurrent.ConcurrentHashMap>
            <entry>
              <string>/MIDDLE/gpp3/orchestrateur_workspaces/slave_p08a/workspace/Exploitation - synchro entrepot_cda_services</string>
              <long>493063819</long>
            </entry>
          </java.util.concurrent.ConcurrentHashMap>
        </entry>
      </slaveWorkspacesUsage>
    </hudson.plugins.disk__usage.DiskUsageProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <assignedNode>GENERATION</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers class="vector"/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>HOUR=`date &quot;+%D %T&quot;`
OPTIONS=&quot;--env=prod --from-file=${RESOURCES_FILE}&quot;
REPO_NAME=&apos;entrepot-scripts&apos;
ENTREPOT_SCRIPTS_URL=&quot;https://geoportail.forge.ign.fr/hg/${REPO_NAME}&quot;
HG_BIN=&apos;/usr/bin/hg&apos;
PYTHON_BIN=&apos;/usr/bin/python&apos;

echo &quot;start: $HOUR&quot;

export http_proxy=relay-gpp3-i-interco.sca.gpp.priv.atos.fr:3128

if [ -d &quot;${WORKSPACE}/${REPO_NAME}&quot; ]
then
    cd &quot;${WORKSPACE}/${REPO_NAME}&quot; &amp;&amp; ${HG_BIN} pull --rev develop
else
    ${HG_BIN} clone --updaterev develop ${ENTREPOT_SCRIPTS_URL} ${REPO_NAME}
fi

cd &quot;${WORKSPACE}/${REPO_NAME}&quot; &amp;&amp; ${HG_BIN} update --clean --rev develop
${HG_BIN} log -l 1 &amp;&amp; ${HG_BIN} sum

cd &quot;${WORKSPACE}/${REPO_NAME}/src/main/scripts/fr/geoportail/exploit&quot;
${PYTHON_BIN} diff_res_ent_cda_svc.py ${OPTIONS}

HOUR=`date &quot;+%D %T&quot;`
echo &quot;end: $HOUR&quot;
</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>